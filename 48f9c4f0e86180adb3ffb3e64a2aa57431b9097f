{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8f3f8627_42cfe75b",
        "filename": "bootloader_message/bootloader_message.cpp",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 11883
      },
      "writtenOn": "2023-03-19T18:14:09Z",
      "side": 1,
      "message": "I\u0027m a bit lost here, won\u0027t this end up overwriting the first n bytes?\n\nThis makes the assumption the misc message data is always \u003e2048 bytes into the partition if we want preserve the first n bytes, but that\u0027s bootloader dependant, not really a random value to pick.",
      "revId": "48f9c4f0e86180adb3ffb3e64a2aa57431b9097f",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5107974b_406a1d79",
        "filename": "bootloader_message/bootloader_message.cpp",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 18205
      },
      "writtenOn": "2023-03-19T20:06:03Z",
      "side": 1,
      "message": "isn\u0027t that what i explain in the commit msg?",
      "parentUuid": "8f3f8627_42cfe75b",
      "revId": "48f9c4f0e86180adb3ffb3e64a2aa57431b9097f",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3aa456f6_3337e1ad",
        "filename": "bootloader_message/bootloader_message.cpp",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 11883
      },
      "writtenOn": "2023-03-19T20:23:01Z",
      "side": 1,
      "message": "sorry, I know it\u0027s explained in the message, but I don\u0027t get how it would work.\nso we now assume that we always want to wipe the first n bytes of the misc partition if the offset is ≤1024?\nthat\u0027s kind of arbitrary and not really something related to the offset we add, it\u0027s device specific behaviour.\nimo, offset should always be the truth of when to start wiping the message, if we also want to wipe the first n bytes after offset, it\u0027s unrelated.\nand that would also mean we never wipe the actual message size in misc, but the first sector, still a different behaviour than I\u0027d expect.\nif the lge bootlooader works like that ( what goes in the first n bytes? wipe-data? isn\u0027t that part of the usual message struct? )",
      "parentUuid": "5107974b_406a1d79",
      "revId": "48f9c4f0e86180adb3ffb3e64a2aa57431b9097f",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d4d7c4c_cccf210b",
        "filename": "bootloader_message/bootloader_message.cpp",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 18205
      },
      "writtenOn": "2023-03-19T20:47:58Z",
      "side": 1,
      "message": "\u003e imo, offset should always be the truth of when to start wiping the message\n\nFor LG we purpusely want to use an offset different from what the bootloader expects (0). If we only wipe from OFFSET to OFFSET + sizeof(bootloader_message) but the bootloader writes at 0, then we will never wipe a message written by the bootloader. That may or may not be an issue, that this commit solves.\n\n\u003e so we now assume that we always want to wipe the first n bytes of the misc partition if the offset is ≤1024?\n\nYes, that is arbitrary. It is a bad assumption if your bootloader also uses an offset \u003c1024 (and non zero). But this feature is not going to be used by any new devices so I see no point in complicating it now. When the commit was written all its users all complied with the assumption.",
      "parentUuid": "3aa456f6_3337e1ad",
      "revId": "48f9c4f0e86180adb3ffb3e64a2aa57431b9097f",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ]
}